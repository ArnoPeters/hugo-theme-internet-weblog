{{- $pages := .Pages -}}
{{- if .IsHome -}}
{{-   $pages = where .Site.RegularPages "Type" "in" (slice "article") -}}
{{- end -}}
{{- $paginator := .Paginate $pages -}}
{{- range .Paginator.Pages -}}
{{-   $url := replace .Permalink .Site.BaseURL "" -}}
{{-     partial "preview_post.html" . -}}
{{- end -}}
{{- partial "pagination.html" . -}}