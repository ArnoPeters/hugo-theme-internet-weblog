<!DOCTYPE html>
<html lang="{{ with .Site.LanguageCode }}{{ . }}{{ else }}en-US{{ end }}">
	{{- partial "metadata/OpenGraph/head.html" . }}
		{{ hugo.Generator }}
	{{- if .Params.robotsNoIndex }}
		<meta name="robots" content="noindex" />
	{{- end }}
	{{- with .Params.Author }}
		<meta name="author" content="{{ . }}">
	{{- else -}}
		{{- with .Site.Params.Author.FullName }}
		<meta name="author" content="{{ . }}">
		{{- end }}
	{{- end }}
	{{- with .Description }}
		<meta name="description" content="{{ . }}">
	{{- end }}
		{{- partial "metadata/Twitter.html" . }}
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>{{ with .Title }}{{ if ne . $.Site.Title }}{{ . }} &middot; {{ end }}@{{ end }}{{ .Site.Title }}</title>
		<link rel="stylesheet" href="{{.Site.BaseURL}}css/weblog.css" media="screen">
		<!-- todo: move this to config, overridable in theme? -->
		{{- partial "custom_stylesheets.html" . }}
		{{- if .Site.Params.rssenabled }}
		<link href="{{.Site.RSSLink}}" rel="alternate" type="application/rss+xml" title="{{ .Site.Title }}">
		{{- end }}
		{{ block "head" . }}
		<!-- Any optional header stuff per page -->
		{{ end }}
	</head>
	<body class="site">
		<header>
			{{ partial "header.html" . -}}
			{{ block "header" . }}
			<!-- page header (nav and such)-->
			{{ end }}
		</header>
		{{ block "main" . }}
		<!-- The part of the page that begins to differ between templates -->
		{{ end }}
		<footer>
			{{ partial "footer.html" . -}}
			{{ block "footer" . }}
			<!-- page footer -->
			{{ end }}
		</footer>
		{{ partial "custom_javascript.html" . -}}
		{{ template "_internal/google_analytics.html" . -}}
	</body>
</html>